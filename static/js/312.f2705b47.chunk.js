"use strict";(self.webpackChunksamurai_way_ts=self.webpackChunksamurai_way_ts||[]).push([[312],{3312:function(n,e,r){r.r(e),r.d(e,{default:function(){return z}});var t=r(2791),i=r(364),s=r(1413),l=r(4942),u=r(885),a="Paginator_paginator__7XGpb",o="Paginator_pageNumber__OapAN",c="Paginator_selectedPage__UOXmZ",f=r(1694),d=r.n(f),h=r(184),g=function(n){for(var e=n.totalItemsCount,r=n.pageSize,i=n.currentPage,s=void 0===i?1:i,f=n.onPageChange,g=void 0===f?function(){}:f,m=n.potionSize,v=void 0===m?10:m,x=Math.ceil(e/r),j=[],p=1;p<=x;p++)j.push(p);(0,t.useEffect)((function(){return S(Math.ceil(s/v))}),[s]);var b=Math.ceil(x/v),P=(0,t.useState)(1),w=(0,u.Z)(P,2),C=w[0],S=w[1];null===C&&(C=1);var Z=(C-1)*v+1,_=C*v;return(0,h.jsxs)("div",{className:d()(a),children:[C>1&&(0,h.jsx)("button",{onClick:function(n){S(C-1)},children:"Prev"}),j.filter((function(n){return n>=Z&&n<=_})).map((function(n){return(0,h.jsx)("span",{className:d()((0,l.Z)({},c,s===n),o),onClick:function(e){g(n)},children:n},n)})),b>C&&(0,h.jsx)("button",{onClick:function(){S(C+1)},children:"Next"})]})},m=r(4977),v=r(8694),x=r(1523),j=function(n){var e=n.user,r=n.followingInProgress,t=n.unfollow,i=n.follow;return(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:(0,h.jsxs)("div",{className:m.Z.flex,children:[(0,h.jsx)("div",{children:(0,h.jsx)(x.OL,{to:"/profile/"+e.id,children:(0,h.jsx)("img",{src:null!=e.photos.small?e.photos.small:v,className:m.Z.img})})}),(0,h.jsx)("div",{children:e.followed?(0,h.jsx)("button",{disabled:r.some((function(n){return n===e.id})),onClick:function(n){t(e.id)},children:" Unfollow "}):(0,h.jsx)("button",{disabled:r.some((function(n){return n===e.id})),onClick:function(n){i(e.id)},children:" Follow "})})]})}),(0,h.jsx)("span",{children:(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:e.name}),(0,h.jsx)("div",{children:e.status})]})})]})},p=r(1603),b=r(5705),P=r(6916),w=function(n){return n.usersPage.users},C=((0,P.P1)(w,(function(n){return n.filter((function(n){return!0}))})),function(n){return n.usersPage.pageSize}),S=function(n){return n.usersPage.totalUsersCount},Z=function(n){return n.usersPage.currentPage},_=function(n){return n.usersPage.isFetching},k=function(n){return n.usersPage.followingInProgress},N=function(n){return n.usersPage.filter},y=t.memo((function(n){var e=(0,i.v9)(N);return(0,h.jsx)("div",{children:(0,h.jsx)(b.J9,{enableReinitialize:!0,initialValues:{term:e.term,friend:String(e.friend)},onSubmit:function(e,r){var t=r.setSubmitting,i={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};n.onFilterChanged(i),t(!1)},children:function(n){var e=n.isSubmitting;return(0,h.jsxs)(b.l0,{children:[(0,h.jsx)(b.gN,{type:"text",name:"term"}),(0,h.jsxs)(b.gN,{name:"friend",as:"select",children:[(0,h.jsx)("option",{value:"null",children:"All"}),(0,h.jsx)("option",{value:"true",children:"Only unfollowed"}),(0,h.jsx)("option",{value:"false",children:"Only followed"})]}),(0,h.jsx)("button",{type:"submit",disabled:e,children:"Find"})]})}})})})),F=r(9271),I=function(n){var e=(0,i.v9)(w),r=(0,i.v9)(S),l=(0,i.v9)(Z),u=(0,i.v9)(C),a=(0,i.v9)(N),o=(0,i.v9)(k),c=(0,i.I0)(),f=(0,F.k6)();(0,t.useEffect)((function(){var n=f.location.search,e=new URLSearchParams(n),r=e.get("term"),t=e.get("page"),i=e.get("friend"),o=l,d=a;switch(null!==t&&(o=Number(t)),null!==r&&(d=(0,s.Z)((0,s.Z)({},d),{},{term:r})),i){case"null":d=(0,s.Z)((0,s.Z)({},d),{},{friend:null});break;case"true":d=(0,s.Z)((0,s.Z)({},d),{},{friend:!0});break;case"false":d=(0,s.Z)((0,s.Z)({},d),{},{friend:!1})}c((0,p.Rf)(o,u,d))}),[]),(0,t.useEffect)((function(){var n={};a.term&&(n.term=a.term),null!==a.friend&&(n.friend=String(a.friend)),1!==l&&(n.page=String(l));var e=new URLSearchParams(n);f.push({pathname:"/developers",search:e.toString()})}),[a,l]);var d=function(n){c((0,p.ZN)(n))},m=function(n){c((0,p.fv)(n))};return(0,h.jsxs)("div",{children:[(0,h.jsx)(y,{onFilterChanged:function(n){c((0,p.Rf)(1,u,n))}}),(0,h.jsx)(g,{currentPage:l,onPageChange:function(n){c((0,p.Rf)(n,u,a))},totalItemsCount:r,pageSize:u}),(0,h.jsx)("div",{children:e.map((function(n){return(0,h.jsx)(j,{user:n,followingInProgress:o,unfollow:m,follow:d},n.id)}))})]})},R=r(8657),z=function(n){var e=(0,i.v9)((function(n){return n.auth.isAuth})),r=(0,i.v9)(_);return e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:n.pageTitle}),r?(0,h.jsx)(R.L,{}):null,(0,h.jsx)(I,{})]}):(0,h.jsx)(F.l_,{to:"/login"})}},8694:function(n,e,r){n.exports=r.p+"static/media/Vladik.ecbbf61a7c6eb8413e3b.png"}}]);
//# sourceMappingURL=312.f2705b47.chunk.js.map