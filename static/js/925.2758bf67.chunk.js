"use strict";(self.webpackChunksamurai_way_ts=self.webpackChunksamurai_way_ts||[]).push([[925],{925:function(e,n,s){s.r(n),s.d(n,{Chat:function(){return c},Messages:function(){return o},Message:function(){return d},AddMessageFormChat:function(){return f}});var r=s(2982),t=s(885),a=s(2791),u=s(184),i=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),c=function(){return(0,u.jsxs)("div",{children:[(0,u.jsx)(o,{}),(0,u.jsx)(f,{})]})},o=function(){var e=(0,a.useState)([]),n=(0,t.Z)(e,2),s=n[0],c=n[1];return(0,a.useEffect)((function(){i.addEventListener("message",(function(e){var n=JSON.parse(e.data);c((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))}))}))}),[]),(0,u.jsx)("div",{style:{height:"400px",overflow:"auto"},children:s.map((function(e,n){return(0,u.jsx)(d,{message:e},n)}))})},d=function(e){var n=e.message;return(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:n.photo})," ",(0,u.jsx)("b",{children:n.userName}),(0,u.jsx)("br",{}),n.message,(0,u.jsx)("hr",{})]})},f=function(){var e=(0,a.useState)(""),n=(0,t.Z)(e,2),s=n[0],r=n[1];return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(0,u.jsx)("textarea",{onChange:function(e){return r(e.currentTarget.value)},name:""})}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{onClick:function(){s&&(i.send(s),r(""))},children:"Send"})})]})};n.default=function(){return(0,u.jsx)("div",{children:(0,u.jsx)(c,{})})}}}]);
//# sourceMappingURL=925.2758bf67.chunk.js.map