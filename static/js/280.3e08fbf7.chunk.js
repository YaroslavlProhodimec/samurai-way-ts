"use strict";(self.webpackChunksamurai_way_ts=self.webpackChunksamurai_way_ts||[]).push([[280],{280:function(s,e,t){t.r(e),t.d(e,{default:function(){return E}});var i=t(1413),n=t(5671),r=t(3144),o=t(136),a=t(8557),l=t(2791),c=t(885),u=t(8657),d=t(184),h=function(s){var e=(0,l.useState)(!1),t=(0,c.Z)(e,2),i=t[0],n=t[1],r=(0,l.useState)(s.status),o=(0,c.Z)(r,2),a=o[0],u=o[1];(0,l.useEffect)((function(){u(s.status)}),[s.status]);return(0,d.jsxs)("div",{children:[!i&&(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Status:"}),"  ",(0,d.jsx)("span",{onDoubleClick:function(){n(!0)},children:s.status||"No Status"})]}),i&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:function(s){u(s.currentTarget.value)},onBlur:function(){n(!1),s.updateStatus(a)},autoFocus:!0})})]})},f={imgone:"Profileinfo_imgone__vQr-J",imgtwo:"Profileinfo_imgtwo__K3irn",item:"Profileinfo_item__7r+3m",focus:"Profileinfo_focus__5M03k",imgthree:"Profileinfo_imgthree__hzhS7",contact:"Profileinfo_contact__Rk8e5"},m=function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:f.imgone,children:[(0,d.jsx)("a",{href:"src/Components/Profile",children:(0,d.jsx)("img",{className:f.imgtwo,src:"https://images.all-free-download.com/images/graphicwebp/btc_sign_icon_flat_silhouette_sketch_6921320.webp"})}),(0,d.jsx)("a",{href:"src/Components/Profile",children:(0,d.jsx)("img",{className:f.imgtwo,src:"https://images.all-free-download.com/images/graphicwebp/ethereum_currency_sign_icon_flat_silhouette_outline_6921322.webp"})}),(0,d.jsx)("a",{href:"src/Components/Profile",children:(0,d.jsx)("img",{className:f.imgtwo,src:"https://images.all-free-download.com/images/graphicwebp/lira_sign_icon_black_flat_silhouette_sketch_6921286.webp"})}),(0,d.jsx)("a",{href:"src/Components/Profile",children:(0,d.jsx)("img",{className:f.imgtwo,src:"https://images.all-free-download.com/images/graphicwebp/tenge_currency_sign_flat_black_white_sketch_6921348.webp"})})]})})},p=t(224),x=t(8041),j=t(704),_=(0,j.Z)({form:"edit-profile"})((function(s){var e=s.error,t=s.profile,i=s.isOwner,n=s.handleSubmit;return(0,d.jsxs)("form",{onSubmit:n,children:[e&&(0,d.jsxs)("div",{className:f.error,children:[e," "]}),!i&&(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"Save"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Full name"})," : ",(0,p.Gr)(null,"FullName","fullName",[],x.II)]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Looking for a job"})," :  ",(0,p.Gr)(null,"FullName","lookingForAJob",[],x.II,{type:"checkbox"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"My professional skills"})," :   ",(0,p.Gr)(null,"My professional skills","lookingForAJobDescription",[],x.gx)]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:" About me "}),":  ",(0,p.Gr)(null,"About me","aboutMe",[],x.gx)]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(s){return(0,d.jsx)("div",{className:f.contact,children:(0,d.jsxs)("b",{children:[s,": ",(0,p.Gr)(null,s,"contacts."+s,[],x.II)]})},s)}))]}),(0,d.jsx)("div",{children:")"})]})})),g=(0,j.Z)({form:"edit-profile"})((function(s){var e=s.profile,t=s.isOwner,i=s.goToEditMode;return(0,d.jsxs)("div",{children:[t&&(0,d.jsx)("div",{children:(0,d.jsx)("button",{onClick:i,children:"edit"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Full name"})," : ",e.fullName]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Looking for a job"})," : ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"My professional skills"})," : ",e.lookingForAJobDescription]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Contacts"}),":",Object.keys(e.contacts).map((function(s){return(0,d.jsx)("div",{className:f.contact,children:(0,d.jsx)("b",{children:(0,d.jsx)(v,{contactTitle:s,contactValue:e.contacts[s]})})},s)}))]})]})})),v=function(s){var e=s.contactTitle,t=s.contactValue;return(0,d.jsxs)("div",{className:f.contact,children:[(0,d.jsxs)("b",{children:[e,":"]}),t]})},b=function(s){var e=s.profile,t=s.status,i=s.updateStatus,n=s.isOwner,r=s.savePhoto,o=s.saveProfile,a=(0,l.useState)(!1),f=(0,c.Z)(a,2),p=f[0],x=f[1];if(!e)return(0,d.jsx)("div",{children:(0,d.jsx)(u.L,{})});return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{children:[(0,d.jsx)(m,{}),(0,d.jsx)("img",{src:e.photos.small}),(0,d.jsxs)("div",{children:["!isOwner &&",(0,d.jsx)("input",{type:"file",onChange:function(s){null!==s.target.files?s.target.files.length&&r(s.target.files[0]):alert("Error,files null")}})]}),p?(0,d.jsx)(_,{initialValues:e,profile:e,onSubmit:function(s){o(s).then((function(){x(!1)}))}}):(0,d.jsx)(g,{goToEditMode:function(){x(!0)},profile:e,isOwner:n}),(0,d.jsx)(h,{status:t,updateStatus:i})]})})},P=t(4294),w=t(2982),k=t(3103),y={item:"Post_item__LRLqk"},N=function(s){return(0,d.jsxs)("div",{className:y.content,children:[(0,d.jsxs)("div",{className:y.item,children:[(0,d.jsx)("img",{src:"https://images.all-free-download.com/images/graphicwebp/user_astronaut_sign_icon_flat_contrast_black_white_sketch_6923675.webp",alt:""}),s.message]}),(0,d.jsx)("span",{children:"like"}),s.likesCount]})},S=t(3079),Z=((0,S.D)(10),(0,j.Z)({form:"addPost"})((function(s){return(0,d.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,d.jsx)("div",{children:(0,p.Gr)(k.Z.text,"email","newPostText",[S.C],x.II)}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:k.Z.button,children:"Add post"})})]})}))),C=l.memo((function(s){var e=s.posts,t=(0,w.Z)(e).reverse().map((function(s){return(0,d.jsx)(N,{id:s.id,message:s.message,likesCount:s.likesCount},s.id)}));return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:k.Z.content,children:[(0,d.jsx)("div",{className:k.Z.my,children:"My Posts"}),(0,d.jsx)("div",{children:(0,d.jsx)(Z,{onSubmit:function(e){s.addPost(e.newPostText)}})}),(0,d.jsx)("div",{className:k.Z.new,children:"New Post"}),(0,d.jsx)("div",{className:k.Z.posts,children:t})]})})})),M=l.memo(C),I=t(364),A=(0,I.$j)((function(s){return{posts:s.profilePage.posts}}),{addPost:P.Nw.addPostCreator})(M),F=function(s){return(0,d.jsxs)("div",{children:[(0,d.jsx)(b,{savePhoto:s.savePhoto,profile:s.profile,status:s.status,updateStatus:s.updateStatus,isOwner:s.isOwner,saveProfile:s.saveProfile}),(0,d.jsx)(A,{})]})},O=t(9271),D=t(7781),U=function(s){(0,o.Z)(t,s);var e=(0,a.Z)(t);function t(){return(0,n.Z)(this,t),e.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var s=+this.props.match.params.userId;if(s||(s=this.props.authorizedUserId),s||this.props.history.push("/login"),!s)throw new Error("ID should exists in URI params or in state ");this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,d.jsx)("div",{children:(0,d.jsx)(F,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile,savePhoto:this.props.savePhoto}))})}}]),t}(l.Component),E=(0,D.qC)((0,I.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:P.et,getUserStatus:P.Tq,updateStatus:P.Nf,savePhoto:P.Ju,saveProfile:P.Ii}),O.EN)(U)},3103:function(s,e){e.Z={content:"MyPosts_content__L8P+U",posts:"MyPosts_posts__ZMEY-",item:"MyPosts_item__OMpqB",my:"MyPosts_my__+ugjg",new:"MyPosts_new__EcoxC",button:"MyPosts_button__-sBtj",text:"MyPosts_text__ADDDf"}}}]);
//# sourceMappingURL=280.3e08fbf7.chunk.js.map