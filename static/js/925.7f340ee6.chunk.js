"use strict";(self.webpackChunksamurai_way_ts=self.webpackChunksamurai_way_ts||[]).push([[925],{925:function(e,n,r){r.r(n),r.d(n,{Chat:function(){return c},Messages:function(){return o},Message:function(){return l},AddMessageFormChat:function(){return h}});var t=r(885),s=r(2791),u=r(364),i=r(7773),a=r(184),c=function(){var e=(0,u.I0)();return(0,s.useEffect)((function(){return e((0,i.WE)()),function(){e((0,i.R7)())}})),(0,a.jsxs)("div",{children:[(0,a.jsx)(o,{}),(0,a.jsx)(h,{})]})},o=function(){var e=(0,u.v9)((function(e){return e.chat.messages})),n=(0,u.v9)((function(e){return e.chat.status})),r=(0,s.useRef)(null),i=(0,s.useState)(!0),c=(0,t.Z)(i,2),o=c[0],h=c[1];console.log(n,"status"),(0,s.useEffect)((function(){var e;o&&(null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]);return(0,a.jsxs)("div",{style:{height:"400px",overflowY:"auto"},onScroll:function(e){var n=e.currentTarget,r=n.scrollHeight,t=n.scrollTop,s=n.clientHeight;Math.abs(r-t-s)<300?!o&&h(!0):o&&h(!1)},children:[e.map((function(e){return(0,a.jsx)(l,{message:e},e.id)})),(0,a.jsx)("div",{ref:r})]})},l=s.memo((function(e){var n=e.message;return(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:n.photo,alt:"photo"})," ",(0,a.jsx)("b",{children:n.userName}),(0,a.jsx)("br",{}),n.message,(0,a.jsx)("hr",{})]})})),h=function(){var e=(0,s.useState)(""),n=(0,t.Z)(e,2),r=n[0],c=n[1],o=(0,u.v9)((function(e){return e.chat.status})),l=(0,u.I0)();return(0,a.jsx)("div",{children:"error"===o?(0,a.jsx)("div",{children:"Some Error occured. Please refresh the page"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)("textarea",{value:r,onChange:function(e){return c(e.currentTarget.value)},name:""})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{disabled:"ready"!==o,onClick:function(){r&&(l((0,i.Tu)(r)),c(""))},children:"Send"})})]})})};n.default=function(){return(0,a.jsx)("div",{children:(0,a.jsx)(c,{})})}}}]);
//# sourceMappingURL=925.7f340ee6.chunk.js.map