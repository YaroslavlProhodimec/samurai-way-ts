"use strict";(self.webpackChunksamurai_way_ts=self.webpackChunksamurai_way_ts||[]).push([[925],{925:function(e,n,r){r.r(n),r.d(n,{Chat:function(){return o},Messages:function(){return l},Message:function(){return h},AddMessageFormChat:function(){return f}});var t=r(885),s=r(2791),u=r(364),i=r(7773),a=r(9271),c=r(184),o=function(){var e=(0,u.I0)();return(0,s.useEffect)((function(){return e((0,i.WE)()),function(){e((0,i.R7)())}})),(0,c.jsxs)("div",{children:[(0,c.jsx)(l,{}),(0,c.jsx)(f,{})]})},l=function(){var e=(0,u.v9)((function(e){return e.chat.messages})),n=(0,u.v9)((function(e){return e.chat.status})),r=(0,s.useRef)(null),i=(0,s.useState)(!0),a=(0,t.Z)(i,2),o=a[0],l=a[1];console.log(n,"status"),(0,s.useEffect)((function(){var e;o&&(null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]);return(0,c.jsxs)("div",{style:{height:"400px",overflowY:"auto"},onScroll:function(e){var n=e.currentTarget,r=n.scrollHeight,t=n.scrollTop,s=n.clientHeight;Math.abs(r-t-s)<300?!o&&l(!0):o&&l(!1)},children:[e.map((function(e){return(0,c.jsx)(h,{message:e},e.id)})),(0,c.jsx)("div",{ref:r})]})},h=s.memo((function(e){var n=e.message;return(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{src:n.photo,alt:"photo"})," ",(0,c.jsx)("b",{children:n.userName}),(0,c.jsx)("br",{}),n.message,(0,c.jsx)("hr",{})]})})),f=function(){var e=(0,s.useState)(""),n=(0,t.Z)(e,2),r=n[0],o=n[1],l=(0,u.v9)((function(e){return e.chat.status})),h=(0,u.v9)((function(e){return e.auth.isAuth})),f=(0,u.I0)();return h?(0,c.jsx)("div",{children:"error"===l?(0,c.jsx)("div",{children:"Some Error occured. Please refresh the page"}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{children:(0,c.jsx)("textarea",{value:r,onChange:function(e){return o(e.currentTarget.value)},name:""})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{disabled:"ready"!==l,onClick:function(){r&&(f((0,i.Tu)(r)),o(""))},children:"Send"})})]})}):(0,c.jsx)(a.l_,{to:"/login"})};n.default=function(){return(0,c.jsx)("div",{children:(0,c.jsx)(o,{})})}}}]);
//# sourceMappingURL=925.62a5c9d3.chunk.js.map